<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistema de Pre-Triaje</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#0451BC',
                        secondary: '#6B7280',
                        light: '#F3F4F6',
                        danger: '#EF4444',
                        warning: '#F59E0B',
                        success: '#10B981',
                    },
                    fontFamily: {
                        sans: ['DM Sans', 'sans-serif'],
                    },
                }
            },
            darkMode: 'class',
        }
    </script>
    
</head>
<body class="bg-white dark:bg-gray-900 transition-colors duration-300">
    <div class="min-h-screen flex flex-col">
        <!-- Header -->
        <header class="bg-white dark:bg-gray-800 shadow-sm py-4 px-6 flex justify-between items-center">
            <div class="flex items-center">
                <img src="Logo1.png" alt="Logo Sistema Pre-Triaje" class="header-logo">
                <h1 class="ml-2 text-xl font-bold text-primary dark:text-blue-400">Sistema de Pre-Triaje</h1>
            </div>
            <div class="flex items-center space-x-4">
                <button id="theme-toggle" class="p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-primary dark:focus:ring-blue-400">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-gray-600 dark:text-gray-300 hidden dark:block" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z" />
                    </svg>
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-gray-600 dark:text-gray-300 dark:hidden" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z" />
                    </svg>
                </button>
                <button id="language-toggle" class="p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-primary dark:focus:ring-blue-400">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-gray-600 dark:text-gray-300" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5h12M9 3v2m1.048 9.5A18.022 18.022 0 016.412 9m6.088 9h7M11 21l5-10 5 10M12.751 5C11.783 10.77 8.07 15.61 3 18.129" />
                    </svg>
                </button>
            </div>
        </header>

        <!-- Progress Bar -->
        <div class="w-full bg-gray-200 dark:bg-gray-700 h-2">
            <div id="progress-bar" class="progress-bar bg-primary dark:bg-blue-500 h-2 w-0"></div>
        </div>

        <!-- Main Content -->
        <main class="flex-grow flex flex-col items-center justify-center p-6">
            <!-- Screen 1: Welcome -->
            <div id="screen-1" class="screen active w-full max-w-3xl">
                <div class="bg-white dark:bg-gray-800 rounded-2xl shadow-lg p-8 w-full text-center">
                    <div class="mb-8">
                        <img src="Logo1.png" alt="Logo Sistema Pre-Triaje" class="welcome-logo">
                    </div>
                    <h2 class="text-3xl font-bold text-primary dark:text-blue-400 mb-4">¡Bienvenido al pre-triaje!</h2>
                    <p class="text-gray-600 dark:text-gray-300 mb-8">Este sistema le ayudará a evaluar sus síntomas antes de ser atendido por el personal médico. Por favor, responda todas las preguntas con sinceridad.</p>
                    <button id="start-button" class="bg-primary hover:bg-blue-700 text-white font-medium py-3 px-8 rounded-xl shadow-md hover:shadow-lg transition duration-300 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary dark:focus:ring-blue-400">
                        Comenzar
                    </button>
                </div>
            </div>

            <!-- Screen 2: Role Selection -->
            <div id="screen-2" class="screen w-full max-w-3xl">
                <div class="bg-white dark:bg-gray-800 rounded-2xl shadow-lg p-8 w-full">
                    <h2 class="text-2xl font-bold text-primary dark:text-blue-400 mb-6 text-center">Seleccione su rol</h2>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mt-8">
                        <div class="card-hover bg-white dark:bg-gray-700 rounded-xl shadow-md p-6 cursor-pointer border-2 border-transparent hover:border-primary dark:hover:border-blue-400 transition-all duration-300" id="patient-role">
                            <div class="flex flex-col items-center">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-16 w-16 text-primary dark:text-blue-400 mb-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
                                </svg>
                                <h3 class="text-xl font-medium text-gray-800 dark:text-white">Paciente</h3>
                                <p class="text-gray-500 dark:text-gray-300 text-center mt-2">Necesito atención médica</p>
                            </div>
                        </div>
                        <div class="card-hover bg-white dark:bg-gray-700 rounded-xl shadow-md p-6 cursor-pointer border-2 border-transparent hover:border-primary dark:hover:border-blue-400 transition-all duration-300" id="staff-role">
                            <div class="flex flex-col items-center">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-16 w-16 text-primary dark:text-blue-400 mb-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z" />
                                </svg>
                                <h3 class="text-xl font-medium text-gray-800 dark:text-white">Personal médico</h3>
                                <p class="text-gray-500 dark:text-gray-300 text-center mt-2">Soy parte del equipo sanitario</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Screen 3: Basic Data -->
            <div id="screen-3" class="screen w-full max-w-3xl">
                <div class="bg-white dark:bg-gray-800 rounded-2xl shadow-lg p-8 w-full">
                    <h2 class="text-2xl font-bold text-primary dark:text-blue-400 mb-6">Datos básicos</h2>
                    <form id="basic-data-form" class="space-y-6">
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <div>
                                <label for="fullname" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Nombre completo</label>
                                <input type="text" id="fullname" name="fullname" class="w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-xl focus:ring-primary dark:focus:ring-blue-400 focus:border-primary dark:focus:border-blue-400 bg-white dark:bg-gray-700 text-gray-900 dark:text-white" required>
                            </div>
                            <div class="relative">
                                <label for="birthdate" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Fecha de nacimiento</label>
                                <input type="date" id="birthdate" name="birthdate" class="w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-xl focus:ring-primary dark:focus:ring-blue-400 focus:border-primary dark:focus:border-blue-400 bg-white dark:bg-gray-700 text-gray-900 dark:text-white" required>
                                <div class="mt-2">
                                    <label for="age" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Edad</label>
                                    <input type="text" id="age" name="age" class="w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-xl bg-gray-100 dark:bg-gray-600 text-gray-900 dark:text-white" readonly>
                                </div>
                            </div>
                        </div>

                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <div>
                                <label for="docType" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Tipo de documento</label>
                                <select id="docType" name="docType" class="w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-xl focus:ring-primary dark:focus:ring-blue-400 focus:border-primary dark:focus:border-blue-400 bg-white dark:bg-gray-700 text-gray-900 dark:text-white" required>
                                    <option value="">Seleccione...</option>
                                    <option value="cc">CC</option>
                                    <option value="t.i">TI</option>
                                    <option value="passport">Pasaporte</option>
                                    <option value="other">Otro</option>
                                </select>
                            </div>
                            <div>
                                <label for="docNumber" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Número de documento</label>
                                <input type="text" id="docNumber" name="docNumber" class="w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-xl focus:ring-primary dark:focus:ring-blue-400 focus:border-primary dark:focus:border-blue-400 bg-white dark:bg-gray-700 text-gray-900 dark:text-white" required>
                            </div>
                        </div>

                        <div>
                            <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Sexo asignado</label>
                            <div class="flex space-x-6">
                                <div class="flex items-center">
                                    <input type="radio" id="male" name="sex" value="male" class="h-5 w-5 text-primary dark:text-blue-400 focus:ring-primary dark:focus:ring-blue-400" required>
                                    <label for="male" class="ml-2 text-gray-700 dark:text-gray-300">Masculino</label>
                                </div>
                                <div class="flex items-center">
                                    <input type="radio" id="female" name="sex" value="female" class="h-5 w-5 text-primary dark:text-blue-400 focus:ring-primary dark:focus:ring-blue-400">
                                    <label for="female" class="ml-2 text-gray-700 dark:text-gray-300">Femenino</label>
                                </div>
                            </div>
                        </div>

                        <div id="pregnancy-question" class="hidden bg-blue-50 dark:bg-blue-900/30 p-4 rounded-xl">
                            <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">¿Está embarazada?</label>
                            <div class="flex space-x-6">
                                <div class="flex items-center">
                                    <input type="radio" id="pregnant-yes" name="pregnant" value="yes" class="h-5 w-5 text-primary dark:text-blue-400 focus:ring-primary dark:focus:ring-blue-400">
                                    <label for="pregnant-yes" class="ml-2 text-gray-700 dark:text-gray-300">Sí</label>
                                </div>
                                <div class="flex items-center">
                                    <input type="radio" id="pregnant-no" name="pregnant" value="no" class="h-5 w-5 text-primary dark:text-blue-400 focus:ring-primary dark:focus:ring-blue-400">
                                    <label for="pregnant-no" class="ml-2 text-gray-700 dark:text-gray-300">No</label>
                                </div>
                            </div>
                        </div>

                        <div id="high-risk-alert" class="hidden bg-red-50 dark:bg-red-900/30 p-4 rounded-xl border-l-4 border-red-500 dark:border-red-400">
                            <div class="flex">
                                <div class="flex-shrink-0">
                                    <svg class="h-5 w-5 text-red-500 dark:text-red-400" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
                                        <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd" />
                                    </svg>
                                </div>
                                <div class="ml-3">
                                    <h3 class="text-sm font-medium text-red-800 dark:text-red-300">Alto riesgo</h3>
                                    <div class="mt-1 text-sm text-red-700 dark:text-red-300">
                                        <p>Paciente mayor de 65 años. Se recomienda atención prioritaria.</p>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <div>
                                <label for="emergency-contact-name" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Nombre del contacto de emergencia</label>
                                <input type="text" id="emergency-contact-name" name="emergency-contact-name" class="w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-xl focus:ring-primary dark:focus:ring-blue-400 focus:border-primary dark:focus:border-blue-400 bg-white dark:bg-gray-700 text-gray-900 dark:text-white" required>
                            </div>
                            <div>
                                <label for="emergency-contact-phone" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Teléfono del contacto de emergencia</label>
                                <input type="tel" id="emergency-contact-phone" name="emergency-contact-phone" class="w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-xl focus:ring-primary dark:focus:ring-blue-400 focus:border-primary dark:focus:border-blue-400 bg-white dark:bg-gray-700 text-gray-900 dark:text-white" required>
                            </div>
                        </div>

                        <div class="flex justify-end pt-4">
                            <button type="button" id="back-to-role" class="mr-4 px-6 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-xl hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary dark:focus:ring-blue-400 transition duration-300">
                                Atrás
                            </button>
                            <button type="submit" id="register-button" class="px-6 py-2 bg-gray-400 text-white rounded-xl cursor-not-allowed transition duration-300" disabled>
                                Registrar
                            </button>
                        </div>
                    </form>
                </div>
            </div>

            <!-- Screen 4: Medical History -->
            <div id="screen-4" class="screen w-full max-w-3xl">
                <div class="bg-white dark:bg-gray-800 rounded-2xl shadow-lg p-8 w-full">
                    <h2 class="text-2xl font-bold text-primary dark:text-blue-400 mb-6">Antecedentes médicos</h2>
                    <form id="medical-history-form" class="space-y-6">
                        <div>
                            <label for="allergies" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Alergias</label>
                            
                            <!-- Hidden original select - we keep this for form submission compatibility -->
                            <select id="allergies" name="allergies" class="hidden" multiple>
                                <option value="none">Ninguna</option>
                                <option value="penicillin">Penicilina</option>
                                <option value="aspirin">Aspirina</option>
                                <option value="latex">Látex</option>
                                <option value="pollen">Polen</option>
                                <option value="food">Alimentos</option>
                                <option value="other">Otras</option>
                            </select>
                            
                            <!-- Custom dropdown with checkboxes -->
                            <div id="allergies-dropdown" class="custom-dropdown">
                                <button id="allergies-dropdown-toggle" type="button" class="dropdown-toggle">
                                    <span id="allergies-dropdown-text">Seleccione...</span>
                                    <svg class="dropdown-arrow w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                                    </svg>
                                </button>
                                <div id="allergies-dropdown-menu" class="dropdown-menu">
                                    <div class="dropdown-item">
                                        <label>
                                            <input type="checkbox" id="allergy-none" value="none">
                                            <span>Ninguna</span>
                                        </label>
                                    </div>
                                    <div class="dropdown-item">
                                        <label>
                                            <input type="checkbox" id="allergy-penicillin" value="penicillin">
                                            <span>Penicilina</span>
                                        </label>
                                    </div>
                                    <div class="dropdown-item">
                                        <label>
                                            <input type="checkbox" id="allergy-aspirin" value="aspirin">
                                            <span>Aspirina</span>
                                        </label>
                                    </div>
                                    <div class="dropdown-item">
                                        <label>
                                            <input type="checkbox" id="allergy-latex" value="latex">
                                            <span>Látex</span>
                                        </label>
                                    </div>
                                    <div class="dropdown-item">
                                        <label>
                                            <input type="checkbox" id="allergy-pollen" value="pollen">
                                            <span>Polen</span>
                                        </label>
                                    </div>
                                    <div class="dropdown-item">
                                        <label>
                                            <input type="checkbox" id="allergy-food" value="food">
                                            <span>Alimentos</span>
                                        </label>
                                    </div>
                                    <div class="dropdown-item">
                                        <label>
                                            <input type="checkbox" id="allergy-other" value="other">
                                            <span>Otras</span>
                                        </label>
                                    </div>
                                </div>
                            </div>
                            <div id="selected-allergies" class="flex flex-wrap gap-2 mt-2"></div>
                            <div id="other-allergies-container" class="hidden mt-2">
                                <label for="other-allergies" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Especificar otras alergias</label>
                                <input type="text" id="other-allergies" name="other-allergies" class="w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-xl focus:ring-primary dark:focus:ring-blue-400 focus:border-primary dark:focus:border-blue-400 bg-white dark:bg-gray-700 text-gray-900 dark:text-white" placeholder="Escriba aquí sus otras alergias">
                            </div>
                        </div>

                        <div>
                            <label for="conditions" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Enfermedades crónicas</label>
                            
                            <!-- Hidden original select - we keep this for form submission compatibility -->
                            <select id="conditions" name="conditions" class="hidden" multiple>
                                <option value="none">Ninguna</option>
                                <option value="hypertension">Hipertensión</option>
                                <option value="diabetes">Diabetes</option>
                                <option value="asthma">Asma</option>
                                <option value="heart-disease">Enfermedad cardíaca</option>
                                <option value="cancer">Cáncer</option>
                                <option value="other">Otras</option>
                            </select>
                            
                            <!-- Custom dropdown with checkboxes -->
                            <div id="conditions-dropdown" class="custom-dropdown">
                                <button id="conditions-dropdown-toggle" type="button" class="dropdown-toggle">
                                    <span id="conditions-dropdown-text">Seleccione...</span>
                                    <svg class="dropdown-arrow w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                                    </svg>
                                </button>
                                <div id="conditions-dropdown-menu" class="dropdown-menu">
                                    <div class="dropdown-item">
                                        <label>
                                            <input type="checkbox" id="condition-none" value="none">
                                            <span>Ninguna</span>
                                        </label>
                                    </div>
                                    <div class="dropdown-item">
                                        <label>
                                            <input type="checkbox" id="condition-hypertension" value="hypertension">
                                            <span>Hipertensión</span>
                                        </label>
                                    </div>
                                    <div class="dropdown-item">
                                        <label>
                                            <input type="checkbox" id="condition-diabetes" value="diabetes">
                                            <span>Diabetes</span>
                                        </label>
                                    </div>
                                    <div class="dropdown-item">
                                        <label>
                                            <input type="checkbox" id="condition-asthma" value="asthma">
                                            <span>Asma</span>
                                        </label>
                                    </div>
                                    <div class="dropdown-item">
                                        <label>
                                            <input type="checkbox" id="condition-heart-disease" value="heart-disease">
                                            <span>Enfermedad cardíaca</span>
                                        </label>
                                    </div>
                                    <div class="dropdown-item">
                                        <label>
                                            <input type="checkbox" id="condition-cancer" value="cancer">
                                            <span>Cáncer</span>
                                        </label>
                                    </div>
                                    <div class="dropdown-item">
                                        <label>
                                            <input type="checkbox" id="condition-other" value="other">
                                            <span>Otras</span>
                                        </label>
                                    </div>
                                </div>
                            </div>
                            <div id="selected-conditions" class="flex flex-wrap gap-2 mt-2"></div>
                            <div id="other-conditions-container" class="hidden mt-2">
                                <label for="other-conditions" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Especificar otras enfermedades crónicas</label>
                                <input type="text" id="other-conditions" name="other-conditions" class="w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-xl focus:ring-primary dark:focus:ring-blue-400 focus:border-primary dark:focus:border-blue-400 bg-white dark:bg-gray-700 text-gray-900 dark:text-white" placeholder="Escriba aquí otras enfermedades crónicas">
                            </div>
                        </div>

                        <div>
                            <label for="surgeries" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Cirugías previas</label>
                            <textarea id="surgeries" name="surgeries" rows="3" class="w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-xl focus:ring-primary dark:focus:ring-blue-400 focus:border-primary dark:focus:border-blue-400 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"></textarea>
                        </div>

                        <div class="flex justify-end pt-4">
                            <button type="button" id="back-to-basic" class="mr-4 px-6 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-xl hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary dark:focus:ring-blue-400 transition duration-300">
                                Atrás
                            </button>
                            <button type="submit" class="px-6 py-2 bg-primary hover:bg-blue-700 text-white rounded-xl focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary dark:focus:ring-blue-400 transition duration-300">
                                Continuar
                            </button>
                        </div>
                    </form>
                </div>
            </div>

            <!-- Screen 5: Main Symptoms -->
            <div id="screen-5" class="screen w-full max-w-3xl">
                <div class="bg-white dark:bg-gray-800 rounded-2xl shadow-lg p-8 w-full">
                    <h2 class="text-2xl font-bold text-primary dark:text-blue-400 mb-6">Síntomas principales</h2>
                    <form id="symptoms-form" class="space-y-6">
                        <div>
                            <label for="main-symptoms" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Describa sus síntomas principales</label>
                            <textarea id="main-symptoms" name="main-symptoms" rows="5" class="w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-xl focus:ring-primary dark:focus:ring-blue-400 focus:border-primary dark:focus:border-blue-400 bg-white dark:bg-gray-700 text-gray-900 dark:text-white" placeholder="Describa sus síntomas con detalle (por ejemplo: dolor de pecho, dificultad para respirar, etc.)"></textarea>
                        </div>

                        <div>
                            <label for="symptoms-duration" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">¿Desde cuándo presenta estos síntomas?</label>
                            <select id="symptoms-duration" name="symptoms-duration" class="w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-xl focus:ring-primary dark:focus:ring-blue-400 focus:border-primary dark:focus:border-blue-400 bg-white dark:bg-gray-700 text-gray-900 dark:text-white">
                                <option value="">Seleccione...</option>
                                <option value="hours">Horas</option>
                                <option value="today">Hoy</option>
                                <option value="yesterday">Desde ayer</option>
                                <option value="days">Días (menos de una semana)</option>
                                <option value="weeks">Semanas</option>
                                <option value="months">Meses</option>
                            </select>
                        </div>

                        <div class="flex justify-end pt-4">
                            <button type="button" id="back-to-history" class="mr-4 px-6 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-xl hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary dark:focus:ring-blue-400 transition duration-300">
                                Atrás
                            </button>
                            <button type="submit" class="px-6 py-2 bg-primary hover:bg-blue-700 text-white rounded-xl focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary dark:focus:ring-blue-400 transition duration-300">
                                Continuar
                            </button>
                        </div>
                    </form>
                </div>
            </div>

            <!-- Screen 6: Dynamic Questionnaire -->
            <div id="screen-6" class="screen w-full max-w-3xl">
                <div class="bg-white dark:bg-gray-800 rounded-2xl shadow-lg p-8 w-full">
                    <h2 class="text-2xl font-bold text-primary dark:text-blue-400 mb-6">Cuestionario específico</h2>
                    <div id="dynamic-questions" class="space-y-6">
                        <!-- Dynamic questions will be inserted here -->
                    </div>
                    <form id="dynamic-form" class="space-y-6">
                        <div class="flex justify-end pt-4">
                            <button type="button" id="back-to-symptoms" class="mr-4 px-6 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-xl hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary dark:focus:ring-blue-400 transition duration-300">
                                Atrás
                            </button>
                            <button type="submit" class="px-6 py-2 bg-primary hover:bg-blue-700 text-white rounded-xl focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary dark:focus:ring-blue-400 transition duration-300">
                                Finalizar
                            </button>
                        </div>
                    </form>
                </div>
            </div>

            <!-- Screen 7: Confirmation -->
            <div id="screen-7" class="screen w-full max-w-3xl">
                <div class="bg-white dark:bg-gray-800 rounded-2xl shadow-lg p-8 w-full text-center">
                    <div class="mb-8">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-20 w-20 mx-auto text-success" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
                        </svg>
                    </div>
                    <h2 class="text-3xl font-bold text-primary dark:text-blue-400 mb-4">¡Registro completado!</h2>
                    <p class="text-gray-600 dark:text-gray-300 mb-4">Sus datos han sido registrados correctamente.</p>
                    <div class="bg-blue-50 dark:bg-blue-900/30 p-4 rounded-xl mb-6">
                        <p class="text-gray-700 dark:text-gray-300">Número de referencia: <span id="reference-number" class="font-bold">PRE-12345</span></p>
                    </div>
                    <div class="bg-yellow-50 dark:bg-yellow-900/30 p-4 rounded-xl mb-8">
                        <h3 class="font-medium text-yellow-800 dark:text-yellow-300 mb-2">Recomendaciones:</h3>
                        <ul class="text-left text-yellow-700 dark:text-yellow-200 list-disc pl-5 space-y-1">
                            <li>Espere a ser llamado por el personal médico.</li>
                            <li>Si sus síntomas empeoran, notifique inmediatamente al personal.</li>
                            <li>Mantenga su mascarilla puesta en todo momento.</li>
                        </ul>
                    </div>
                    <button id="restart-button" class="bg-primary hover:bg-blue-700 text-white font-medium py-3 px-8 rounded-xl shadow-md hover:shadow-lg transition duration-300 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary dark:focus:ring-blue-400">
                        Finalizar
                    </button>
                </div>
            </div>

            <!-- Screen 8: Medical Staff Panel -->
            <div id="screen-8" class="screen w-full max-w-6xl">
                <div class="bg-white dark:bg-gray-800 rounded-2xl shadow-lg p-8 w-full">
                    <!-- Header Section -->
                    <div class="border-b border-gray-200 dark:border-gray-700 pb-4 mb-6">
                        <div class="flex flex-col md:flex-row justify-between items-start md:items-center">
                            <div>
                                <h2 class="text-2xl font-bold text-blue-800 dark:text-blue-500 mb-1">Panel de Gestión de Pacientes</h2>
                                <p class="text-gray-600 dark:text-gray-400">
                                    Dr. <span id="doctor-name">Juan Pérez</span>
                                </p>
                            </div>
                            <div class="mt-4 md:mt-0 bg-blue-50 dark:bg-blue-900/30 p-3 rounded-xl">
                                <div id="current-datetime" class="text-blue-800 dark:text-blue-400 font-medium"></div>
                            </div>
                        </div>
                    </div>

                    <!-- Filters and Controls -->
                    <div class="flex flex-wrap gap-4 mb-6 items-center">
                        <div class="w-full md:w-auto">
                            <label for="esi-filter" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Filtrar por ESI</label>
                            <select id="esi-filter" class="w-full md:w-40 px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-xl focus:ring-blue-700 dark:focus:ring-blue-500 focus:border-blue-700 dark:focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white">
                                <option value="all">Todos</option>
                                <option value="1">ESI 1</option>
                                <option value="2">ESI 2</option>
                                <option value="3">ESI 3</option>
                                <option value="4">ESI 4</option>
                                <option value="5">ESI 5</option>
                            </select>
                        </div>

                        <div class="w-full md:w-auto">
                            <label for="sort-by" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Ordenar por</label>
                            <select id="sort-by" class="w-full md:w-48 px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-xl focus:ring-blue-700 dark:focus:ring-blue-500 focus:border-blue-700 dark:focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white">
                                <option value="arrival">Hora de llegada</option>
                                <option value="name">Nombre</option>
                                <option value="esi">Nivel ESI</option>
                            </select>
                        </div>

                        <div class="w-full md:w-auto md:ml-auto">
                            <label for="status-filter" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Estado</label>
                            <select id="status-filter" class="w-full md:w-40 px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-xl focus:ring-blue-700 dark:focus:ring-blue-500 focus:border-blue-700 dark:focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white">
                                <option value="all">Todos</option>
                                <option value="waiting">En espera</option>
                                <option value="in-progress">En atención</option>
                                <option value="completed">Atendido</option>
                            </select>
                        </div>
                    </div>

                    <!-- Waiting List Table -->
                    <div class="overflow-x-auto rounded-xl">
                        <table class="min-w-full divide-y divide-gray-200 dark:divide-gray-700">
                            <thead class="bg-gray-50 dark:bg-gray-700">
                                <tr>
                                    <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">ESI</th>
                                    <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">Paciente</th>
                                    <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">ID</th>
                                    <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">Edad/Sexo</th>
                                    <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">Llegada</th>
                                    <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">Motivo</th>
                                    <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">Estado</th>
                                    <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">Acciones</th>
                                </tr>
                            </thead>
                            <tbody class="bg-white divide-y divide-gray-200 dark:bg-gray-800 dark:divide-gray-700" id="patient-list">
                                <!-- Example patient rows - Will be populated dynamically -->
                                <tr>
                                    <td class="px-6 py-4 whitespace-nowrap">
                                        <span class="inline-flex items-center justify-center w-6 h-6 rounded-full bg-red-600" title="ESI 1 - Resucitación">
                                            <span class="text-white font-bold text-xs">1</span>
                                        </span>
                                    </td>
                                    <td class="px-6 py-4 whitespace-nowrap">
                                        <div class="text-sm font-medium text-gray-900 dark:text-white">Carlos Rodríguez</div>
                                    </td>
                                    <td class="px-6 py-4 whitespace-nowrap">
                                        <div class="text-sm text-gray-500 dark:text-gray-400">PRE-12345</div>
                                    </td>
                                    <td class="px-6 py-4 whitespace-nowrap">
                                        <div class="text-sm text-gray-500 dark:text-gray-400">72/M</div>
                                    </td>
                                    <td class="px-6 py-4 whitespace-nowrap">
                                        <div class="text-sm text-gray-500 dark:text-gray-400">10:15</div>
                                    </td>
                                    <td class="px-6 py-4">
                                        <div class="text-sm text-gray-900 dark:text-white">Dolor de pecho intenso</div>
                                    </td>
                                    <td class="px-6 py-4 whitespace-nowrap">
                                        <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200">
                                            En espera
                                        </span>
                                    </td>
                                    <td class="px-6 py-4 whitespace-nowrap text-right text-sm font-medium">
                                        <button class="text-blue-700 dark:text-blue-400 hover:text-blue-900 dark:hover:text-blue-300 mr-3 view-history-btn" data-patient-id="PRE-12345">
                                            Ver historial
                                        </button>
                                        <button class="text-green-700 dark:text-green-400 hover:text-green-900 dark:hover:text-green-300 start-evaluation-btn" data-patient-id="PRE-12345">
                                            Iniciar
                                        </button>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="px-6 py-4 whitespace-nowrap">
                                        <span class="inline-flex items-center justify-center w-6 h-6 rounded-full bg-orange-500" title="ESI 2 - Emergencia">
                                            <span class="text-white font-bold text-xs">2</span>
                                        </span>
                                    </td>
                                    <td class="px-6 py-4 whitespace-nowrap">
                                        <div class="text-sm font-medium text-gray-900 dark:text-white">Ana Martínez</div>
                                    </td>
                                    <td class="px-6 py-4 whitespace-nowrap">
                                        <div class="text-sm text-gray-500 dark:text-gray-400">PRE-23456</div>
                                    </td>
                                    <td class="px-6 py-4 whitespace-nowrap">
                                        <div class="text-sm text-gray-500 dark:text-gray-400">45/F</div>
                                    </td>
                                    <td class="px-6 py-4 whitespace-nowrap">
                                        <div class="text-sm text-gray-500 dark:text-gray-400">10:30</div>
                                    </td>
                                    <td class="px-6 py-4">
                                        <div class="text-sm text-gray-900 dark:text-white">Dificultad para respirar severa</div>
                                    </td>
                                    <td class="px-6 py-4 whitespace-nowrap">
                                        <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200">
                                            En atención
                                        </span>
                                    </td>
                                    <td class="px-6 py-4 whitespace-nowrap text-right text-sm font-medium">
                                        <button class="text-blue-700 dark:text-blue-400 hover:text-blue-900 dark:hover:text-blue-300 mr-3 view-history-btn" data-patient-id="PRE-23456">
                                            Ver historial
                                        </button>
                                        <button class="text-green-700 dark:text-green-400 hover:text-green-900 dark:hover:text-green-300 start-evaluation-btn" data-patient-id="PRE-23456">
                                            Continuar
                                        </button>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="px-6 py-4 whitespace-nowrap">
                                        <span class="inline-flex items-center justify-center w-6 h-6 rounded-full bg-yellow-400" title="ESI 3 - Urgencia">
                                            <span class="text-white font-bold text-xs">3</span>
                                        </span>
                                    </td>
                                    <td class="px-6 py-4 whitespace-nowrap">
                                        <div class="text-sm font-medium text-gray-900 dark:text-white">Miguel López</div>
                                    </td>
                                    <td class="px-6 py-4 whitespace-nowrap">
                                        <div class="text-sm text-gray-500 dark:text-gray-400">PRE-34567</div>
                                    </td>
                                    <td class="px-6 py-4 whitespace-nowrap">
                                        <div class="text-sm text-gray-500 dark:text-gray-400">35/M</div>
                                    </td>
                                    <td class="px-6 py-4 whitespace-nowrap">
                                        <div class="text-sm text-gray-500 dark:text-gray-400">11:00</div>
                                    </td>
                                    <td class="px-6 py-4">
                                        <div class="text-sm text-gray-900 dark:text-white">Dolor abdominal moderado</div>
                                    </td>
                                    <td class="px-6 py-4 whitespace-nowrap">
                                        <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200">
                                            En espera
                                        </span>
                                    </td>
                                    <td class="px-6 py-4 whitespace-nowrap text-right text-sm font-medium">
                                        <button class="text-blue-700 dark:text-blue-400 hover:text-blue-900 dark:hover:text-blue-300 mr-3 view-history-btn" data-patient-id="PRE-34567">
                                            Ver historial
                                        </button>
                                        <button class="text-green-700 dark:text-green-400 hover:text-green-900 dark:hover:text-green-300 start-evaluation-btn" data-patient-id="PRE-34567">
                                            Iniciar
                                        </button>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    
                    <!-- Return to Role Selection Button -->
                    <div class="flex justify-end mt-6">
                        <button id="back-to-role-staff" class="px-6 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-xl hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-700 dark:focus:ring-blue-500 transition duration-300">
                            Salir
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- Patient History Modal -->
            <div id="history-modal" class="fixed inset-0 z-50 hidden flex items-center justify-center bg-black bg-opacity-50">
                <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg max-w-3xl w-full max-h-[90vh] overflow-y-auto">
                    <div class="p-6">
                        <div class="flex justify-between items-center border-b border-gray-200 dark:border-gray-700 pb-4 mb-4">
                            <h3 class="text-xl font-bold text-gray-900 dark:text-white">Historial del Paciente</h3>
                            <button id="close-history-modal" class="text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200">
                                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                                </svg>
                            </button>
                        </div>
                        
                        <div class="mb-4 bg-blue-50 dark:bg-blue-900/30 p-4 rounded-xl">
                            <h4 class="text-lg font-medium text-blue-800 dark:text-blue-400 mb-2">Datos del paciente</h4>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                <div>
                                    <p class="text-sm text-gray-700 dark:text-gray-300"><span class="font-medium">Nombre:</span> <span id="modal-patient-name">Ana Martínez</span></p>
                                    <p class="text-sm text-gray-700 dark:text-gray-300"><span class="font-medium">ID:</span> <span id="modal-patient-id">PRE-23456</span></p>
                                    <p class="text-sm text-gray-700 dark:text-gray-300"><span class="font-medium">Edad:</span> <span id="modal-patient-age">45</span></p>
                                    <p class="text-sm text-gray-700 dark:text-gray-300"><span class="font-medium">Sexo:</span> <span id="modal-patient-sex">Femenino</span></p>
                                </div>
                                <div>
                                    <p class="text-sm text-gray-700 dark:text-gray-300"><span class="font-medium">Alergias:</span> <span id="modal-patient-allergies">Penicilina</span></p>
                                    <p class="text-sm text-gray-700 dark:text-gray-300"><span class="font-medium">Condiciones:</span> <span id="modal-patient-conditions">Asma</span></p>
                                    <p class="text-sm text-gray-700 dark:text-gray-300"><span class="font-medium">Contacto:</span> <span id="modal-emergency-contact">María Gómez (Hermana) - 555-1234</span></p>
                                </div>
                            </div>
                        </div>
                        
                        <div id="modal-alert" class="mb-4 bg-red-50 dark:bg-red-900/30 p-4 rounded-xl border-l-4 border-red-500 dark:border-red-400">
                            <div class="flex">
                                <div class="flex-shrink-0">
                                    <svg class="h-5 w-5 text-red-500 dark:text-red-400" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
                                        <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd" />
                                    </svg>
                                </div>
                                <div class="ml-3">
                                    <h3 class="text-sm font-medium text-red-800 dark:text-red-300">Alerta médica</h3>
                                    <div class="mt-1 text-sm text-red-700 dark:text-red-300">
                                        <p id="modal-alert-text">Paciente con asma severa. Historial de ataques que requirieron hospitalización.</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="mb-4">
                            <h4 class="text-lg font-medium text-gray-800 dark:text-gray-200 mb-2">Atenciones previas</h4>
                            <div class="bg-white dark:bg-gray-700 shadow overflow-hidden rounded-lg">
                                <ul id="modal-previous-visits" class="divide-y divide-gray-200 dark:divide-gray-600">
                                    <li class="p-4">
                                        <div class="flex justify-between">
                                            <div>
                                                <p class="font-medium text-gray-800 dark:text-white">15 marzo 2025</p>
                                                <p class="text-sm text-gray-600 dark:text-gray-300">Crisis asmática</p>
                                            </div>
                                            <span class="inline-flex items-center justify-center w-6 h-6 rounded-full bg-yellow-400" title="ESI 3 - Urgencia">
                                                <span class="text-white font-bold text-xs">3</span>
                                            </span>
                                        </div>
                                    </li>
                                    <li class="p-4">
                                        <div class="flex justify-between">
                                            <div>
                                                <p class="font-medium text-gray-800 dark:text-white">2 enero 2025</p>
                                                <p class="text-sm text-gray-600 dark:text-gray-300">Neumonía</p>
                                            </div>
                                            <span class="inline-flex items-center justify-center w-6 h-6 rounded-full bg-orange-500" title="ESI 2 - Emergencia">
                                                <span class="text-white font-bold text-xs">2</span>
                                            </span>
                                        </div>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Vital Signs Modal -->
            <div id="vital-signs-modal" class="fixed inset-0 z-50 hidden flex items-center justify-center bg-black bg-opacity-50">
                <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg max-w-2xl w-full">
                    <div class="p-6">
                        <div class="flex justify-between items-center border-b border-gray-200 dark:border-gray-700 pb-4 mb-4">
                            <h3 class="text-xl font-bold text-gray-900 dark:text-white">Evaluación del Paciente</h3>
                            <button id="close-vital-signs-modal" class="text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200">
                                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                                </svg>
                            </button>
                        </div>
                        
                        <div class="mb-4 bg-blue-50 dark:bg-blue-900/30 p-4 rounded-xl">
                            <p class="text-sm text-gray-700 dark:text-gray-300"><span class="font-medium">Paciente:</span> <span id="vital-signs-patient-name">Ana Martínez</span></p>
                            <p class="text-sm text-gray-700 dark:text-gray-300"><span class="font-medium">Motivo consulta:</span> <span id="vital-signs-reason">Dificultad para respirar severa</span></p>
                        </div>
                        
                        <form id="vital-signs-form" class="space-y-4">
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                <div>
                                    <label for="temperature" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Temperatura (°C)</label>
                                    <input type="number" step="0.1" id="temperature" name="temperature" class="w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-xl focus:ring-blue-700 dark:focus:ring-blue-500 focus:border-blue-700 dark:focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white" placeholder="36.5" required>
                                </div>
                                <div>
                                    <label for="blood-pressure" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Presión arterial (mmHg)</label>
                                    <input type="text" id="blood-pressure" name="blood-pressure" class="w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-xl focus:ring-blue-700 dark:focus:ring-blue-500 focus:border-blue-700 dark:focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white" placeholder="120/80" required pattern="[0-9]{2,3}\/[0-9]{2,3}">
                                </div>
                            </div>
                            
                            <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                                <div>
                                    <label for="heart-rate" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Frecuencia cardiaca</label>
                                    <input type="number" id="heart-rate" name="heart-rate" class="w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-xl focus:ring-blue-700 dark:focus:ring-blue-500 focus:border-blue-700 dark:focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white" placeholder="80" required>
                                </div>
                                <div>
                                    <label for="respiratory-rate" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Frecuencia respiratoria</label>
                                    <input type="number" id="respiratory-rate" name="respiratory-rate" class="w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-xl focus:ring-blue-700 dark:focus:ring-blue-500 focus:border-blue-700 dark:focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white" placeholder="16" required>
                                </div>
                                <div>
                                    <label for="oxygen-saturation" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Saturación O₂ (%)</label>
                                    <input type="number" id="oxygen-saturation" name="oxygen-saturation" class="w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-xl focus:ring-blue-700 dark:focus:ring-blue-500 focus:border-blue-700 dark:focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white" placeholder="98" required min="1" max="100">
                                </div>
                            </div>
                            
                            <div>
                                <label for="esi-level" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Nivel ESI</label>
                                <div class="grid grid-cols-5 gap-2">
                                    <button type="button" class="esi-btn px-4 py-2 bg-red-600 text-white rounded-xl hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500" data-esi="1">ESI 1</button>
                                    <button type="button" class="esi-btn px-4 py-2 bg-orange-500 text-white rounded-xl hover:bg-orange-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500" data-esi="2">ESI 2</button>
                                    <button type="button" class="esi-btn px-4 py-2 bg-yellow-400 text-white rounded-xl hover:bg-yellow-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-yellow-500" data-esi="3">ESI 3</button>
                                    <button type="button" class="esi-btn px-4 py-2 bg-green-500 text-white rounded-xl hover:bg-green-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500" data-esi="4">ESI 4</button>
                                    <button type="button" class="esi-btn px-4 py-2 bg-blue-500 text-white rounded-xl hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500" data-esi="5">ESI 5</button>
                                </div>
                                <input type="hidden" id="selected-esi" name="selected-esi" required>
                            </div>
                            
                            <div>
                                <label for="observations" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Observaciones</label>
                                <textarea id="observations" name="observations" rows="3" class="w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-xl focus:ring-blue-700 dark:focus:ring-blue-500 focus:border-blue-700 dark:focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"></textarea>
                            </div>
                            
                            <div class="flex justify-end pt-4 space-x-4">
                                <button type="button" id="generate-report-btn" class="px-6 py-2 bg-blue-700 hover:bg-blue-800 text-white rounded-xl focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-700 transition duration-300">
                                    Generar reporte
                                </button>
                                <button type="submit" class="px-6 py-2 bg-green-600 hover:bg-green-700 text-white rounded-xl focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-600 transition duration-300">
                                    Confirmar ESI
                                </button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </main>

        <!-- Footer -->
        <footer class="bg-white dark:bg-gray-800 py-4 px-6 shadow-inner">
            <div class="flex flex-col md:flex-row justify-between items-center">
                <p class="text-gray-600 dark:text-gray-400 text-sm mb-2 md:mb-0">© 2025 Sistema de Pre-Triaje. Todos los derechos reservados.</p>
                <div class="flex space-x-4">
                    <button class="text-gray-600 dark:text-gray-400 text-sm hover:text-primary dark:hover:text-blue-400 transition duration-300">Términos y condiciones</button>
                    <button class="text-gray-600 dark:text-gray-400 text-sm hover:text-primary dark:hover:text-blue-400 transition duration-300">Política de privacidad</button>
                    <button class="text-gray-600 dark:text-gray-400 text-sm hover:text-primary dark:hover:text-blue-400 transition duration-300">Ayuda</button>
                </div>
            </div>
        </footer>
    </div>
    <script src="scripts.js"></script>
</html>